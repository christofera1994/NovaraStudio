{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lazar/Desktop/novara/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nexport function createClient() {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n  if (!url || !anon) {\n    return null;\n  }\n  return createBrowserClient(url, anon);\n}\n"],"names":[],"mappings":";;;;AAGc;AAHd;AAAA;;AAEO,SAAS;IACd,MAAM;IACN,MAAM;IACN;;IAGA,OAAO,IAAA,yNAAmB,EAAC,KAAK;AAClC","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lazar/Desktop/novara/app/admin/%28main%29/settings/SettingsForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { createClient } from \"@/lib/supabase/client\";\n\ntype Row = {\n  id: string;\n  brand_name: string;\n  tagline: string | null;\n  cta_text: string;\n  hero_line_1: string | null;\n  hero_line_2: string | null;\n  hero_background_image_url: string | null;\n  philosophy_common: string | null;\n  philosophy_differentiated: string | null;\n  philosophy_keyword: string | null;\n  social_links: Record<string, string>;\n  footer_legal_links: { label: string; href: string }[];\n};\n\nexport function SettingsForm({ settings }: { settings: Row | null }) {\n  const router = useRouter();\n  const [saving, setSaving] = useState(false);\n  const [form, setForm] = useState({\n    brand_name: settings?.brand_name ?? \"\",\n    tagline: settings?.tagline ?? \"\",\n    cta_text: settings?.cta_text ?? \"\",\n    hero_line_1: settings?.hero_line_1 ?? \"\",\n    hero_line_2: settings?.hero_line_2 ?? \"\",\n    hero_background_image_url: settings?.hero_background_image_url ?? \"\",\n    philosophy_common: settings?.philosophy_common ?? \"\",\n    philosophy_differentiated: settings?.philosophy_differentiated ?? \"\",\n    philosophy_keyword: settings?.philosophy_keyword ?? \"\",\n    footer_legal_links: JSON.stringify(settings?.footer_legal_links ?? [], null, 2),\n  });\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setSaving(true);\n    const supabase = createClient();\n    if (!supabase) {\n      setSaving(false);\n      return;\n    }\n    let parsed: { label: string; href: string }[] = [];\n    try {\n      parsed = JSON.parse(form.footer_legal_links);\n    } catch {\n      parsed = [];\n    }\n    if (settings?.id) {\n      await supabase.from(\"site_settings\").update({\n        brand_name: form.brand_name,\n        tagline: form.tagline || null,\n        cta_text: form.cta_text,\n        hero_line_1: form.hero_line_1 || null,\n        hero_line_2: form.hero_line_2 || null,\n        hero_background_image_url: form.hero_background_image_url || null,\n        philosophy_common: form.philosophy_common || null,\n        philosophy_differentiated: form.philosophy_differentiated || null,\n        philosophy_keyword: form.philosophy_keyword || null,\n        footer_legal_links: parsed,\n      }).eq(\"id\", settings.id);\n    } else {\n      await supabase.from(\"site_settings\").insert({\n        brand_name: form.brand_name,\n        tagline: form.tagline || null,\n        cta_text: form.cta_text,\n        hero_line_1: form.hero_line_1 || null,\n        hero_line_2: form.hero_line_2 || null,\n        hero_background_image_url: form.hero_background_image_url || null,\n        philosophy_common: form.philosophy_common || null,\n        philosophy_differentiated: form.philosophy_differentiated || null,\n        philosophy_keyword: form.philosophy_keyword || null,\n        footer_legal_links: parsed,\n      });\n    }\n    setSaving(false);\n    router.refresh();\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6 max-w-2xl\">\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Brand name</label>\n        <input\n          value={form.brand_name}\n          onChange={(e) => setForm((f) => ({ ...f, brand_name: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Tagline</label>\n        <input\n          value={form.tagline}\n          onChange={(e) => setForm((f) => ({ ...f, tagline: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">CTA text</label>\n        <input\n          value={form.cta_text}\n          onChange={(e) => setForm((f) => ({ ...f, cta_text: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Hero line 1</label>\n        <input\n          value={form.hero_line_1}\n          onChange={(e) => setForm((f) => ({ ...f, hero_line_1: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Hero line 2</label>\n        <input\n          value={form.hero_line_2}\n          onChange={(e) => setForm((f) => ({ ...f, hero_line_2: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Hero background image URL</label>\n        <input\n          value={form.hero_background_image_url}\n          onChange={(e) => setForm((f) => ({ ...f, hero_background_image_url: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Philosophy common</label>\n        <input\n          value={form.philosophy_common}\n          onChange={(e) => setForm((f) => ({ ...f, philosophy_common: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Philosophy differentiated</label>\n        <input\n          value={form.philosophy_differentiated}\n          onChange={(e) => setForm((f) => ({ ...f, philosophy_differentiated: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Philosophy keyword (accent)</label>\n        <input\n          value={form.philosophy_keyword}\n          onChange={(e) => setForm((f) => ({ ...f, philosophy_keyword: e.target.value }))}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost\"\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm text-ghost/70 mb-1\">Footer legal links (JSON)</label>\n        <textarea\n          value={form.footer_legal_links}\n          onChange={(e) => setForm((f) => ({ ...f, footer_legal_links: e.target.value }))}\n          rows={4}\n          className=\"w-full px-4 py-2 rounded-lg bg-primary border border-ghost/20 text-ghost font-mono text-sm\"\n        />\n      </div>\n      <button\n        type=\"submit\"\n        disabled={saving}\n        className=\"px-4 py-2 rounded-lg bg-accent text-white font-medium disabled:opacity-50\"\n      >\n        {saving ? \"Savingâ€¦\" : \"Save\"}\n      </button>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}