{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lazar/Desktop/novara/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nexport function createClient() {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n  if (!url || !anon) {\n    return null;\n  }\n  return createBrowserClient(url, anon);\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,MAAM;IACN,MAAM;IACN;;IAGA,OAAO,IAAA,sNAAmB,EAAC,KAAK;AAClC","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lazar/Desktop/novara/app/admin/%28main%29/nav/NavLinksEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { ChevronUp, ChevronDown, Pencil, Trash2 } from \"lucide-react\";\n\ntype Item = { id: string; label: string; href: string; order_index: number; is_published: boolean };\n\nexport function NavLinksEditor({ items: initial }: { items: Item[] }) {\n  const router = useRouter();\n  const [items, setItems] = useState(initial);\n  const [editing, setEditing] = useState<string | null>(null);\n  const [form, setForm] = useState({ label: \"\", href: \"\" });\n\n  const supabase = createClient();\n  if (!supabase) return <p className=\"text-red-400\">Supabase not configured.</p>;\n\n  async function saveEdit() {\n    if (!editing) return;\n    await supabase.from(\"nav_links\").update({ label: form.label, href: form.href }).eq(\"id\", editing);\n    setItems((prev) => prev.map((p) => (p.id === editing ? { ...p, label: form.label, href: form.href } : p)));\n    setEditing(null);\n    router.refresh();\n  }\n\n  async function move(id: string, dir: number) {\n    const idx = items.findIndex((i) => i.id === id);\n    if (idx === -1 || (dir < 0 && idx === 0) || (dir > 0 && idx === items.length - 1)) return;\n    const newOrder = [...items];\n    const otherIdx = idx + dir;\n    [newOrder[idx], newOrder[otherIdx]] = [newOrder[otherIdx], newOrder[idx]];\n    const updates = newOrder.map((i, o) => ({ id: i.id, order_index: o }));\n    for (const u of updates) {\n      await supabase.from(\"nav_links\").update({ order_index: u.order_index }).eq(\"id\", u.id);\n    }\n    setItems(newOrder.map((i, o) => ({ ...i, order_index: o })));\n    router.refresh();\n  }\n\n  async function remove(id: string) {\n    if (!confirm(\"Delete this link?\")) return;\n    await supabase.from(\"nav_links\").delete().eq(\"id\", id);\n    setItems((prev) => prev.filter((i) => i.id !== id));\n    router.refresh();\n  }\n\n  async function addNew() {\n    const maxOrder = items.length ? Math.max(...items.map((i) => i.order_index)) + 1 : 0;\n    const { data } = await supabase.from(\"nav_links\").insert({ label: \"New\", href: \"#\", order_index: maxOrder }).select().single();\n    if (data) {\n      setItems((prev) => [...prev, data as Item]);\n      setEditing(data.id);\n      setForm({ label: \"New\", href: \"#\" });\n      router.refresh();\n    }\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <button\n        type=\"button\"\n        onClick={addNew}\n        className=\"px-4 py-2 rounded-lg bg-accent text-white text-sm font-medium\"\n      >\n        Add link\n      </button>\n      <ul className=\"space-y-2\">\n        {items.map((item) => (\n          <li key={item.id} className=\"flex items-center gap-2 p-3 rounded-lg bg-primary/50 border border-ghost/10\">\n            <button type=\"button\" onClick={() => move(item.id, -1)} className=\"p-1 text-ghost/70 hover:text-ghost\" aria-label=\"Move up\">\n              <ChevronUp size={18} />\n            </button>\n            <button type=\"button\" onClick={() => move(item.id, 1)} className=\"p-1 text-ghost/70 hover:text-ghost\" aria-label=\"Move down\">\n              <ChevronDown size={18} />\n            </button>\n            {editing === item.id ? (\n              <>\n                <input\n                  value={form.label}\n                  onChange={(e) => setForm((f) => ({ ...f, label: e.target.value }))}\n                  className=\"flex-1 px-2 py-1 rounded bg-graphite text-ghost text-sm\"\n                  placeholder=\"Label\"\n                />\n                <input\n                  value={form.href}\n                  onChange={(e) => setForm((f) => ({ ...f, href: e.target.value }))}\n                  className=\"flex-1 px-2 py-1 rounded bg-graphite text-ghost text-sm\"\n                  placeholder=\"Href\"\n                />\n                <button type=\"button\" onClick={saveEdit} className=\"text-accent text-sm\">Save</button>\n                <button type=\"button\" onClick={() => setEditing(null)} className=\"text-ghost/70 text-sm\">Cancel</button>\n              </>\n            ) : (\n              <>\n                <span className=\"flex-1 text-ghost\">{item.label}</span>\n                <span className=\"text-ghost/60 text-sm\">{item.href}</span>\n                <button type=\"button\" onClick={() => { setEditing(item.id); setForm({ label: item.label, href: item.href }); }} className=\"p-1 text-ghost/70 hover:text-ghost\"><Pencil size={16} /></button>\n                <button type=\"button\" onClick={() => remove(item.id)} className=\"p-1 text-red-400 hover:text-red-300\"><Trash2 size={16} /></button>\n              </>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}